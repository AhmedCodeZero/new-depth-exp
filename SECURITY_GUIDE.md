# دليل الأمان - نظام لوحة التحكم

## نظرة عامة
تم تطوير نظام أمان متقدم لحماية لوحة التحكم من الوصول غير المصرح به.

## الميزات الأمنية

### 1. نظام تسجيل الدخول الآمن
- **صفحة تسجيل الدخول**: `/admin/login`
- **المصادقة المزدوجة**: بريد إلكتروني + كلمة مرور
- **جلسات آمنة**: رموز مشفرة مع انتهاء صلاحية تلقائي

### 2. المستخدمون المصرح لهم
```
dr.safar7@gmail.com
كلمة المرور: Dd@112233

ahmedcodzero@gmail.com  
كلمة المرور: Asdfahmad@depth
```

### 3. حماية الصفحات
- **Middleware**: يتحقق من صحة الجلسة تلقائياً
- **API Protection**: جميع APIs محمية برموز الجلسة
- **Session Timeout**: انتهاء صلاحية الجلسة بعد 24 ساعة

## كيفية الاستخدام

### 1. الوصول إلى لوحة التحكم
1. اذهب إلى `/admin/login`
2. أدخل البريد الإلكتروني وكلمة المرور
3. سيتم توجيهك تلقائياً إلى لوحة التحكم

### 2. إدارة المحتوى
- **الصفحة الرئيسية**: تحرير المحتوى الرئيسي
- **الخدمات**: إدارة قائمة الخدمات
- **دراسات الحالة**: إدارة قصص النجاح
- **المدونة**: إدارة المقالات
- **التواصل**: إدارة معلومات التواصل

### 3. مراقبة الرسائل
- **رسائل التواصل**: عرض وإدارة رسائل العملاء
- **طلبات الخدمة**: متابعة طلبات الخدمات الجديدة

## الأمان المتقدم

### 1. تشفير الجلسات
```javascript
// مثال على رمز الجلسة المشفر
{
  email: "user@example.com",
  timestamp: 1640995200000,
  random: "abc123def456"
}
```

### 2. حماية من الهجمات
- **CSRF Protection**: حماية من هجمات Cross-Site Request Forgery
- **XSS Protection**: حماية من هجمات Cross-Site Scripting
- **Session Hijacking**: حماية من سرقة الجلسات

### 3. مراقبة الوصول
- تسجيل جميع محاولات الوصول
- تنبيهات عند محاولات الدخول الفاشلة
- مراقبة نشاط المستخدمين

## استكشاف الأخطاء

### مشكلة: لا يمكن الوصول إلى لوحة التحكم
**الحل:**
1. تأكد من تسجيل الدخول من `/admin/login`
2. تحقق من صحة بيانات الدخول
3. امسح الكوكيز وأعد المحاولة

### مشكلة: انتهت صلاحية الجلسة
**الحل:**
1. سجل دخولك مرة أخرى
2. الجلسات تنتهي صلاحيتها بعد 24 ساعة

### مشكلة: الأزرار لا تعمل
**الحل:**
1. تأكد من أن JavaScript مفعل
2. امسح ذاكرة التخزين المؤقت للمتصفح
3. أعد تحميل الصفحة

## الصيانة

### 1. تحديث كلمات المرور
قم بتحديث قائمة المستخدمين في:
- `app/admin/login/page.tsx`
- `app/api/admin/verify-session/route.ts`
- `middleware.ts`

### 2. مراقبة السجلات
تحقق من سجلات الخادم لمراقبة:
- محاولات الدخول الفاشلة
- أنشطة المستخدمين
- أخطاء النظام

### 3. النسخ الاحتياطي
قم بعمل نسخة احتياطية من:
- ملفات المحتوى في مجلد `content/`
- قاعدة البيانات (إذا كانت مستخدمة)
- ملفات التكوين

## نصائح الأمان

1. **استخدم كلمات مرور قوية**
2. **لا تشارك بيانات الدخول**
3. **سجل خروجك بعد الانتهاء**
4. **راقب نشاط الحساب بانتظام**
5. **حدث النظام بانتظام**

## الدعم الفني

في حالة وجود مشاكل:
1. تحقق من هذا الدليل أولاً
2. راجع سجلات النظام
3. تواصل مع فريق التطوير

---
**ملاحظة**: هذا النظام محمي بأعلى معايير الأمان. لا تحاول اختراقه أو تجاوز الحماية.

